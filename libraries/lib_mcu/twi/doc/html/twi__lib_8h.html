<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TWI Library: twi_lib.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>twi_lib.h File Reference</h1>
<p>
<code>#include "twi_drv.h"</code><br>

<p>
<a href="twi__lib_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structTWI__message.html">TWI_message</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a0">TWI_NB_SLAVE_DATA</a>&nbsp;&nbsp;&nbsp;100</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a1">TWI_MASTER</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a2">TWI_SLAVE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a3">TWI_OK</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This constant is used as return value for the functions to.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a4">TWI_BUS_ERROR</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a5">TWI_HOST_ADR_NACK</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a6">TWI_HOST_DATA_NACK</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a7">TWI_ARBITRATION_LOST</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a8">TWI_UNKNOWN</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a9">TWI_NOT_FREE</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a10">TWI_READ</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This constant is used as parameter value for the functions twi_send_message_xxx to select read operation.  <a href="#a10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a11">TWI_WRITE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This constant is used as parameter value for the functions twi_send_message_xxx to select write operation.  <a href="#a11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a12">TWI_CONFIG</a>&nbsp;&nbsp;&nbsp;MSK_TWCR_TWEN</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a13">Length_TWI_frame</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a18">twi_send_message_polling</a> (unsigned char slave_addr, bit rw, <a class="el" href="twi__lib_8h.html#a13">Length_TWI_frame</a> nbytes, Uchar *info)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sends TWI message to a slave.<br>
 This transmition is managed in polling fashion.  <a href="#a18"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a19">twi_send_message_interrupt</a> (unsigned char slave_addr, bit rw, <a class="el" href="twi__lib_8h.html#a13">Length_TWI_frame</a> nbytes, Uchar *info)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function sends TWI message to a slave.<br>
 This transmition is managed in interruption fashion.  <a href="#a19"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a20">twi_slave_polling</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function can be called to be able to answer another master request in polling fashion.  <a href="#a20"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a21">twi_slave_interrupt</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function can be called to be able to answer another master request in interruption fashion.  <a href="#a21"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a22">twi_lib_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function allows to init the TWI controller.  <a href="#a22"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>Byte&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a23">twi_putchar</a> (Byte addr, Byte b)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function can be used to send an byte to a slave in polling fashion.  <a href="#a23"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>Uint16&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a24">twi_getchar</a> (Byte addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">* This function can be used to receive an byte from a slave in polling fashion.  <a href="#a24"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>volatile <a class="el" href="structTWI__message.html">TWI_message</a> xdata&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a14">twi_message</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>volatile bit&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a15">twi_busy</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>volatile unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a16">twi_err</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>volatile unsigned char xdata&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="twi__lib_8h.html#a17">twi_slave_data</a> [100]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a7" doxytag="twi_lib.h::TWI_ARBITRATION_LOST" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_ARBITRATION_LOST&nbsp;&nbsp;&nbsp;4
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00056">56</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="twi_lib.h::TWI_BUS_ERROR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_BUS_ERROR&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00053">53</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="twi_lib.h::TWI_CONFIG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_CONFIG&nbsp;&nbsp;&nbsp;MSK_TWCR_TWEN
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00073">73</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="twi_lib.h::TWI_HOST_ADR_NACK" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_HOST_ADR_NACK&nbsp;&nbsp;&nbsp;2
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00054">54</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="twi_lib.h::TWI_HOST_DATA_NACK" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_HOST_DATA_NACK&nbsp;&nbsp;&nbsp;3
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00055">55</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="twi_lib.h::TWI_MASTER" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_MASTER
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00023">23</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="twi_lib.h::TWI_NB_SLAVE_DATA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_NB_SLAVE_DATA&nbsp;&nbsp;&nbsp;100
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00022">22</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="twi_lib.h::TWI_NOT_FREE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_NOT_FREE&nbsp;&nbsp;&nbsp;6
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00058">58</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="twi_lib.h::TWI_OK" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_OK&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constant is used as return value for the functions to. 
<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00052">52</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="twi_lib.h::TWI_READ" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_READ&nbsp;&nbsp;&nbsp;1
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constant is used as parameter value for the functions twi_send_message_xxx to select read operation. 
<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00065">65</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="twi_lib.h::TWI_SLAVE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_SLAVE
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00024">24</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="twi_lib.h::TWI_UNKNOWN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_UNKNOWN&nbsp;&nbsp;&nbsp;5
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00057">57</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="twi_lib.h::TWI_WRITE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWI_WRITE&nbsp;&nbsp;&nbsp;0
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constant is used as parameter value for the functions twi_send_message_xxx to select write operation. 
<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00070">70</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a13" doxytag="twi_lib.h::Length_TWI_frame" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef unsigned char <a class="el" href="twi__lib_8h.html#a13">Length_TWI_frame</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00029">29</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a24" doxytag="twi_lib.h::twi_getchar" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Uint16 twi_getchar </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Byte&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>addr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
* This function can be used to receive an byte from a slave in polling fashion. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>addr:</em>&nbsp;</td><td>slave to address with this message.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>byte received </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="twi_lib.h::twi_lib_init" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void twi_lib_init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function allows to init the TWI controller. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="twi_lib.h::twi_putchar" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Byte twi_putchar </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Byte&nbsp;</td>
          <td class="mdname" nowrap> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Byte&nbsp;</td>
          <td class="mdname" nowrap> <em>b</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function can be used to send an byte to a slave in polling fashion. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>addr:</em>&nbsp;</td><td>slave to address with this message.</td></tr>
    <tr><td valign=top><em>byte:</em>&nbsp;</td><td>byte to transmit.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TWI error code state:<ul>
<li>TWI_OK</li><li>TWI_BUS_ERROR</li><li>TWI_HOST_ADR_NACK</li><li>TWI_HOST_DATA_NACK</li><li>TWI_ARBITRATION_LOST</li><li>TWI_UNKNOWN</li><li>TWI_NOT_FREE </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="twi_lib.h::twi_send_message_interrupt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char twi_send_message_interrupt </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>slave_addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bit&nbsp;</td>
          <td class="mdname" nowrap> <em>rw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="twi__lib_8h.html#a13">Length_TWI_frame</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Uchar *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function sends TWI message to a slave.<br>
 This transmition is managed in interruption fashion. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>slave_addr:</em>&nbsp;</td><td>slave to address with this message.</td></tr>
    <tr><td valign=top><em>rw:</em>&nbsp;</td><td>This field allows to indicate a read or write message<ul>
<li>TWI_READ</li><li>TWI_WRITE</li></ul>
</td></tr>
    <tr><td valign=top><em>nb_byte:</em>&nbsp;</td><td>This field gives the byte number to read or write.</td></tr>
    <tr><td valign=top><em>*info:</em>&nbsp;</td><td>pointer to the data to be processed.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TWI error code state:<ul>
<li>TWI_OK</li><li>TWI_BUS_ERROR</li><li>TWI_HOST_ADR_NACK</li><li>TWI_HOST_DATA_NACK</li><li>TWI_ARBITRATION_LOST</li><li>TWI_UNKNOWN</li><li>TWI_NOT_FREE</li></ul>
</dd></dl>
<dl compact><dt><b>Precondition:</b></dt><dd>this function is available only if TWI_MASTER is defined in config.h and DO_NOT_USE_TWI_INTERRUPT is not defined. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="twi_lib.h::twi_send_message_polling" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char twi_send_message_polling </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>slave_addr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bit&nbsp;</td>
          <td class="mdname" nowrap> <em>rw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="twi__lib_8h.html#a13">Length_TWI_frame</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Uchar *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function sends TWI message to a slave.<br>
 This transmition is managed in polling fashion. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>slave_addr:</em>&nbsp;</td><td>slave to address with this message.</td></tr>
    <tr><td valign=top><em>rw:</em>&nbsp;</td><td>This field allows to indicate a read or write message<ul>
<li>TWI_READ</li><li>TWI_WRITE</li></ul>
</td></tr>
    <tr><td valign=top><em>nb_byte:</em>&nbsp;</td><td>This field gives the byte number to read or write.</td></tr>
    <tr><td valign=top><em>*info:</em>&nbsp;</td><td>pointer to the data to be processed.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TWI error code state:<ul>
<li>TWI_OK</li><li>TWI_BUS_ERROR</li><li>TWI_HOST_ADR_NACK</li><li>TWI_HOST_DATA_NACK</li><li>TWI_ARBITRATION_LOST</li><li>TWI_UNKNOWN</li><li>TWI_NOT_FREE</li></ul>
</dd></dl>
<dl compact><dt><b>Precondition:</b></dt><dd>this function is available only if TWI_MASTER is define in config.h </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="twi_lib.h::twi_slave_interrupt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void twi_slave_interrupt </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function can be called to be able to answer another master request in interruption fashion. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>TWI error code state:<ul>
<li>TWI_OK</li><li>TWI_BUS_ERROR</li><li>TWI_HOST_ADR_NACK</li><li>TWI_HOST_DATA_NACK</li><li>TWI_ARBITRATION_LOST</li><li>TWI_UNKNOWN</li><li>TWI_NOT_FREE</li></ul>
</dd></dl>
<dl compact><dt><b>Precondition:</b></dt><dd>this function is available only if TWI_SLAVE is defined in config.h </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="twi_lib.h::twi_slave_polling" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char twi_slave_polling </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function can be called to be able to answer another master request in polling fashion. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>TWI error code state:<ul>
<li>TWI_OK</li><li>TWI_BUS_ERROR</li><li>TWI_HOST_ADR_NACK</li><li>TWI_HOST_DATA_NACK</li><li>TWI_ARBITRATION_LOST</li><li>TWI_UNKNOWN</li><li>TWI_NOT_FREE</li></ul>
</dd></dl>
<dl compact><dt><b>Precondition:</b></dt><dd>this function is available only if TWI_SLAVE is defined in config.h </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a15" doxytag="twi_lib.h::twi_busy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> volatile bit <a class="el" href="twi__lib_8h.html#a15">twi_busy</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00042">42</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="twi_lib.h::twi_err" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> volatile unsigned char <a class="el" href="twi__lib_8h.html#a16">twi_err</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00043">43</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="twi_lib.h::twi_message" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> volatile <a class="el" href="structTWI__message.html">TWI_message</a> xdata <a class="el" href="twi__lib_8h.html#a14">twi_message</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00041">41</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="twi_lib.h::twi_slave_data" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> volatile unsigned char xdata <a class="el" href="twi__lib_8h.html#a17">twi_slave_data</a>[ 100 ]
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="twi__lib_8h-source.html#l00044">44</a> of file <a class="el" href="twi__lib_8h-source.html">twi_lib.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Apr 1 15:50:37 2004 for TWI Library by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
